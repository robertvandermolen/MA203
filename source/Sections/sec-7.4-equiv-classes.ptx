<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="sec-7-4-equiv-classes" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>Equivalence Classes</title>

  <p>
    blah..
  </p>
  <definition xml:id="def-equivalence-class">
        <title>Equivalence Class</title>
        <idx><h>equivalence class</h></idx>
        <idx><h>equivalence relation</h><h>equivalence class</h></idx>
        <statement>
            <p>
                Let <m>R</m> be an equivalence relation on a set <m>A</m>. For <m>x \in A</m> the <term>equivalence class</term> of <m>x</m> modulo
                <m>R</m> (<m>x</m> mod <m>R</m>) is the set <m>\bar{x} := \{y\in A | xRy\}</m>
            </p>
        </statement>
    </definition>
    <p>
      blah..
    </p>
    <proposition xml:id="prop-equiv">
        <statement>
            <p>
                Let <m>R</m> be an equivalence relation on a nonempty set <m>A</m>. For all <m>x</m> and <m>y</m> in <m>A</m>,
            </p>
            <ol marker="a.)">
                <li><m>x\in \bar{x}</m> and <m>\bar{x} \subseteq A</m></li>
                <li><m>xRy</m> if and only if <m>\bar{x} = \bar{y}</m></li>
                <li><m>x</m> is not related to <m>y</m> if and only if <m>\bar{x}\cap \bar{y} = \emptyset</m></li>
            </ol>
        </statement>
    </proposition>

    <proof>
        <title>Proof of <xref ref="prop-equiv"/></title>
        
        <p>
            We prove part (a) and part (b), leaving part (c) as an exercise.
        </p>
        <p>
           Proof of part (a) 
        </p>
        <p>
            <m>\mathbf{\text{Proof of }x\in\bar{x}}</m>
        </p>
        <p>
            Let <m>x\in A</m>, since <m>R</m> is an equivalence relation, in particular it is reflexive, thus <m>xRx</m>, hence by definition of <m>\bar{x}</m>, <m>x\in \bar{x}</m>
        </p>
        <p>
            <m>\mathbf{\text{Proof of }\bar{x} \subseteq A}</m>
        </p>
        <p>
            Let <m>\ell\in \bar{x}</m>. Thus by definition of <m>\bar{x}</m>, <m>xR\ell</m>. Hence, <m>(x,l)\in R</m>.
            Since <m>R</m> is a relation on <m>A</m>, <m>R\subseteq A\times A</m>. Hence by definition of cross product, <m>\ell\in A</m>.
        </p>
        <p>
            Proof of (b) <m>xRy</m> if and only if <m>\bar{x} = \bar{y}</m>
        </p>
        <p>
            Let <m>R</m> be a relation on a non-empty set <m>A</m>
        </p>
        <p>
            <m>\mathbf{\text{Proof of }xRy\implies\bar{x}=\bar{y}}</m> 
        </p>
        <p>
            Let <m>(x, y) \in R</m>, as our objective is to prove equality of sets we should break it into two parts.
        </p>
        <p>
            <m>\mathbf{\text{Proof of }\bar{x}\subseteq\bar{y}}</m>
        </p>
        <p>
            Let <m>a \in \bar{x}</m>. Thus by definition of equivalence class <m>xRa</m>. Since <m>R</m> is an equivalence
            relation, it is symmetric, and as we assumed <m>(x,y)\in R</m>, we can thus conclude <m>(y,x) \in R</m>. Since
            <m>R</m> is an equivalence relation, it is also transitive. And since we already concluded <m>(y,x)\in R</m>
            and <m>(x,a) \in R</m> we can now conclude <m>(y,a)\in R</m>.
        </p>
        <p>
            Thus by definition of equivalence class, <m>a\in \bar{y}</m>. Thus by definition of subset, <m>\bar{x} \subseteq \bar{y}</m>.
        </p>
        <p>
            <m>\mathbf{\text{Proof of }\bar{x}\supseteq\bar{y}}</m>
        </p>
        <p>
            let <m>a\in \bar{y}</m>. Thus by definition of equivalence class <m>yRa</m>. Since <m>R</m> is an equivalence relation,
            it is transitive. And since we already concluded <m>(x,y)\in R</m> and <m>(y,a) \in R</m>, we can now conclude
            <m>(x,a) \in R</m>.
        </p>
        <p>
            Thus by definition of equivalence class, <m>a\in \bar{y}</m>. Thus by definition of subset, <m>\bar{x} = \bar{y}</m>
        </p>
        <p>
            <m>\mathbf{\text{Proof of }xRy\impliedby\bar{x}=\bar{y}}</m>
        </p>
        <p>
            Let <m>x \in A</m> and <m>y\in A</m> such that <m>\bar{x} = \bar{y}</m>. Since <m>R</m> is an equivalence relation, it is reflexive.
            Hence, <m>xRx</m>. Thus by definition of <m>\bar{x}</m>, <m>x\in \bar{x}</m>. Since we assumed <m>\bar{x} = \bar{y}</m>, in particular
            <m>\bar{x} \subseteq \bar{y}</m>, <m>x\in \bar{y}</m>. By definition of <m>\bar{y}</m>, <m>yRx</m>. Since <m>R</m> is an equivalence
            relation, it is symmetric. Since we concluded <m>(y,x)\in R</m>, we can conclude <m>(x,y)\in R</m>
        </p>
    </proof>
    <p>
      blah...
    </p>
    <definition xml:id="def-modulo">
        <title>Modulo</title>
        <idx><h>modulo</h></idx>
        <statement>
            <p>
                Let <m>R</m> be an equivalence relation on a set <m>A</m>. For <m>x\in A</m>, the equivalence class of <m>x</m>
                <term>modulo</term> <m>R</m> (or simply <m>x</m> mod <m>R</m>) is the set <m>\bar{x} = \{y \in A | xRy\}</m>
            </p>
            <p>Each element of <m>\bar{x}</m> is called a representative of this class. The set <m>A/R = \{\bar{x} | x\in A\}</m>
                of all equivalence classes is called <m>A</m> modulo <m>R</m> (<m>A</m> mod <m>R</m>)
            </p>
        </statement>
    </definition>
    <p>
      blah..
    </p>

    <definition xml:id="def-congruence">
        <title>Congruence</title>
        <statement>
            <p>
               Let <m>m</m> be a fixed positive integer. For <m>x, y, \in \mathbb{Z}</m>, we say <m>x</m> is congruent to <m>y</m>
               modulo <m>m</m> and write <m>x\equiv y</m> (mod <m>m</m>) if <m>m</m> divides <m>(x-y)</m>. The number <m>m</m>
               is called the <term>modulus of the congruence</term>. 
            </p>
            
        </statement>
    </definition>


</section>